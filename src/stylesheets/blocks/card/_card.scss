// Card
//
// Weight: 1230
//
// Styleguide Card

.#{$uiCard} {

  $this: &;

  @mixin status($color) {
    position: relative;
    &::before {
      content: '';
      position: absolute;
      max-width: $shape-width-status;
      min-width: $shape-width-status;
      height: 100%;
      border-radius: $shape-border-radius-inner 0 0 $shape-border-radius-inner;
      left: 0;
      top: 0;
      background-color: color($color);
    }
    &#{$this}--brand-border {
      &::before {
        border-radius: ($shape-border-radius-inner - 1px) 0 0 ($shape-border-radius-inner - 1px);
      }
    }
  }

  @mixin bubble($color: color("white"), $position-vertical: "top", $position-horizontal: "left") {
    $tick-size: 15px;
    position: relative;
    &::before {
      content: "";
      position: absolute;
      display: flex;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: $tick-size + 2px 0 0 $tick-size + 2px;
      border-color: transparent transparent transparent $color-default-border;
      top: -$tick-size - 2px;
      left: calc(25% - 1px);
    }
    &::after {
      content: "";
      position: absolute;
      display: flex;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: $tick-size 0 0 $tick-size;
      border-color: transparent transparent transparent color("white");
      top: -$tick-size;
      left: 25%;
    }
    // &#{$this}--brand-border {
    //   &::before {
    //     border-radius: ($shape-border-radius-inner - 1px) 0 0 ($shape-border-radius-inner - 1px);
    //   }
    // }
  }

  border: 1px solid $border;
  border-radius: $card-border-radius;
  background-color: color("white");
  box-shadow: $a-card-shadow;

  &--status {
    &-pending {
      @include status("status-pending");
    }
    &-on-track {
      @include status("on-track");
    }
    &-minor-disruption {
      @include status("minor-disruption");
    }
    &-major-disruption {
      @include status("major-disruption");
    }
    &-upcoming {
      @include status("upcoming");
    }
    &-discontinued {
      @include status("discontinued");
    }
    &-completed {
      @include status("completed");
    }
  }

  &--plain {
    background-color: color("alabaster");
    border: 1px solid darken(color("alabaster"), 5%);
    box-shadow: none;
  }

  &--brand-border {
    border: 2px solid color("brand-primary");
  }

  &--brand {
    background-color: color("brand-primary");
    border: 1px solid darken(color("brand-primary"), 5%);
  }

  &--no-shadow {
    box-shadow: none;
  }

  &--shadow-strong {
    box-shadow: $a-card-shadow-strong;
  }

  &--shadow-xstrong {
    box-shadow: $a-card-shadow-xstrong;
  }

  &--bubble-top-left {
    @include bubble();
  }
}